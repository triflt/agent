# ITMOxity üîç

### LLM-–∞–≥–µ–Ω—Ç –¥–ª—è –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ–± –ò–¢–ú–û, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG –∏ multi-query search.

_Disclaimer: –ø—Ä–æ–µ–∫—Ç —Å–¥–µ–ª–∞–Ω –º–µ–Ω–µ–µ, —á–µ–º –∑–∞ –¥–µ–Ω—å_

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–æ–π (—Å–∫–æ—Ä–æ—Å—Ç—å, –∫–∞—á–µ—Å—Ç–≤–æ, –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å)

### 2. –£–º–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ structured output
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –º–µ—Ç–æ–¥ **"multi-query search"** (–¥–µ–ª–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ø–æ–∏—Å–∫ —Å –ø–æ–º–æ—â—å—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞), –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π Perplexity AI –∏ Neuro
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- **Structured output**

### 3. –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ü–æ—á—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –æ–± itmo.ru –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞.
- –í–æ–∑–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –ª—é–±–æ–π –∑–∞–¥–∞–Ω–Ω–æ–π –ø–µ—Ä–µ–æ–¥–∏—á–Ω–æ—Å—Ç—å—é
- –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ


## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Python 3.8+
- OpenAI API
- Langchain/chroma/huggingface
- RAG (Retrieval-Augmented Generation) –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Apache Airflow –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ë–∞–∑–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone [url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è]
cd [–∏–º—è-–ø—Ä–æ–µ–∫—Ç–∞]

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–ª—é—á OpenAI
```

### –°–±–æ—Ä–∫–∞
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
docker-compose up -d
```

### –¢–µ—Å—Ç

```python
url = "http://217.151.231.8:8000"
endpoint = "http://217.151.231.8:8000/api/request"
docs = "http://217.151.231.8:8000/docs"
```

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
curl --location --request POST 'http://217.151.231.8:8000/api/request' \
--header 'Content-Type: application/json' \
--data-raw '{
  "query": "–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–ª–∞–≤–Ω—ã–π –∫–∞–º–ø—É—Å –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ò–¢–ú–û?\n1. –ú–æ—Å–∫–≤–∞\n2. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥\n3. –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥\n4. –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
  "id": 1
}'
```
–í –æ—Ç–≤–µ—Ç –≤—ã –ø–æ–ª—É—á–∏—Ç–µ JSON –≤–∏–¥–∞:

```json
{
  "id": 1,
  "answer": 1,
  "reasoning": "–ò–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ",
  "sources": [
    "https://itmo.ru/ru/",
    "https://abit.itmo.ru/"
  ]
}
```